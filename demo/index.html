<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Node Server Example</title>
  <style>
    .input-group {
      margin-bottom: 5px;
      text-align: center; /* Center-align text within the input group */
    }

    .topic {
      position: relative;
    }

    #whiteSpace {
      position: absolute;
      top: 0;
      width: 100%;
      height: 0; /* Set the height to 20px for a small white sector block */
      background-color: white;
      z-index: 1;
    }

    .topic img {
      display: block;
      /* Adjusted margin-top to create space below the small white sector block */
      margin: 140px auto 0;
    }


    #mainText {
      font-family: 'Ubuntu', sans-serif;
      font-size: 12pt;
      color: #17366F;
      text-align: center;
      padding-top: 10px;
      font-style: italic; /* Make the text italic */
    }

    #inputContainer {
      text-align: center; /* Center-align the input and button */
    }

    #introText {
      color: #17366F;
      font-weight: bold;
      text-align: center;
      padding-top:70px;
    }

    #query {
      display:block;
      /* Center horizontally */
      /* Adjusted top margin */
      margin: 10px auto 5px;
      padding: 10px;
      border-radius: 8px; /* Added border-radius for rounded edges */
      border: 1px solid #ccc; /* Added border for better visibility */
      width: 20%; /* Set width to 80% of the container */
      box-sizing: border-box; /* Include padding and border in the width calculation */
    }

    #findButton {
      display:block;
      /* Center horizontally */
      /* Add space between the input field and the button */
      margin: 10px auto;
      padding: 7px;
      border-radius: 8px; /* Added border-radius for rounded edges */
      border: 1px solid #ccc; /* Added border for better visibility */
    }
  </style>
</head>

<body>
<div class="topic">
  <div id="whiteSpace"></div>
  <img src="https://upload.wikimedia.org/wikipedia/commons/f/fb/Logo_CHECK24.png" alt="Postal Code Logo" width="120" height="">
</div>

<div id="mainText">Let's find your next favourite craftsman!</div>

<div id="introText">But first...</div>

<div class="input-group" id="inputContainer">
  <label for="query"></label><input type="text" id="query" placeholder="Place your PLZ">
  <button id="findButton" onclick="sendQuery()">Submit</button>
</div>


<script>
  function sendQuery() {
    const queryValue = document.getElementById('query').value;
    fetch(`/api/v1/serviceProvider?postalCode=${encodeURIComponent(queryValue)}`)
            .then(response => response.json())
            .then(data => {
              updateTable(data);
            })
            .catch(error => console.error('Error fetching data:', error));
  }

  function updateTable(data) {
    // Implement the logic to update your HTML table with the data from the Java backend
    console.log(data);
  }
</script>
</body>

</html>